(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t,a){e.exports=a(410)},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){e.exports=a.p+"static/media/IMG_5208.b8b8d31f.JPG"},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},410:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(67),s=a.n(l),i=(a(169),a(2)),o=a(3),c=a(4),u=a(6),m=a(5),h=a(7),d=(a(170),a(414)),p=a(163),g=a(26),b=a(97),f=(a(171),a(23)),v=a.n(f),E=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n,r){return t.service.post("/signup",{role:e,username:a,email:n,password:r}).then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{email:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/currentuser").then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.editprofile=function(e){return t.service.put("/editprofile").then(function(e){return e.data})},this.service=v.a.create({baseURL:"http://localhost:5000/auth",withCredentials:!0})},O=a(413),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handlerSubmit=function(e){e.preventDefault();var t=a.state.role,n=a.state.username,r=a.state.email,l=a.state.password;a.service.signup(t,n,r,l).then(function(e){a.setState({role:"",username:"",email:"",password:"",redirect:!0}),a.props.getUser(e.user)}).catch(function(e){a.setState({role:t,username:n,email:r,password:l,error:!0})})},a.handlerChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(i.a)({},a.state,Object(g.a)({},n,r)))},a.state={role:"",username:"",email:"",password:"",redirect:!1},a.service=new E,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state&&this.state.redirect?r.a.createElement(O.a,{to:"/login"}):r.a.createElement("div",{className:"container-signup"},r.a.createElement("form",{className:"form-signup",onSubmit:this.handlerSubmit},r.a.createElement("div",{className:"input-radio"},r.a.createElement("div",{className:"inputs"},r.a.createElement("label",{className:"labeltexto"},"Professional Printer"),r.a.createElement("input",{type:"radio",name:"role",value:"printer",required:"required",onChange:function(t){return e.handlerChange(t)}})),r.a.createElement("div",{className:"inputs"},r.a.createElement("label",{className:"labeltexto"},"User"),r.a.createElement("input",{type:"radio",name:"role",value:"user",required:"required",onChange:function(t){return e.handlerChange(t)}}))),r.a.createElement("div",{className:"inputs"},r.a.createElement("label",{className:"labeltexto"},"Username"),r.a.createElement("input",{id:"username",type:"text",name:"username",required:"required",onChange:function(t){return e.handlerChange(t)}})),r.a.createElement("div",{className:"inputs"},r.a.createElement("label",{className:"labeltexto"},"Email"),r.a.createElement("input",{id:"email",type:"email",name:"email",required:"required",onChange:function(t){return e.handlerChange(t)}})),r.a.createElement("div",{className:"inputs"},r.a.createElement("label",{className:"labeltexto"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:"required",onChange:function(t){return e.handlerChange(t)}})),r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{type:"submit",value:"Create the Account"}))),r.a.createElement("div",{className:"signupquestion"},r.a.createElement("p",null,"Already have account?",r.a.createElement("div",{className:"container-links"},r.a.createElement(b.a,{className:"links",to:"/login"}," ","Login")))))}}]),t}(n.Component),S=(a(194),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handlerSubmit=function(e){e.preventDefault();var t=a.state.email,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({email:t,password:n,role:e.role,redirect:!0,error:!1}),a.props.getUser(e)}).catch(function(e){a.setState({email:t,password:n,redirect:!1,error:!0})})},a.handlerChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(i.a)({},a.state,Object(g.a)({},n,r)))},a.state={email:"",password:"",role:"",redirect:!1},a.service=new E,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect&&"user"===this.state.role?r.a.createElement(O.a,{to:"/allphotos"}):this.state.redirect&&"printer"===this.state.role?r.a.createElement(O.a,{to:"/allorders"}):r.a.createElement("div",{className:"container-signup"},r.a.createElement("form",{className:"form-signup",onSubmit:this.handlerSubmit},r.a.createElement("div",null,r.a.createElement("div",{className:"inputs"},r.a.createElement("label",{className:"labeltexto"},"Email"),r.a.createElement("input",{id:"email",type:"text",name:"email",required:"required",onChange:function(t){return e.handlerChange(t)}})),r.a.createElement("div",{className:"inputs"},r.a.createElement("label",{className:"labeltexto"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:"required",onChange:function(t){return e.handlerChange(t)}}))),r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{type:"submit",value:"Log in"}))),r.a.createElement("div",{className:"signupquestion"},r.a.createElement("h1",null,this.state.error?"Error":""),r.a.createElement("p",null,"Don't have account?",r.a.createElement("div",{className:"container-links"},r.a.createElement(b.a,{className:"links",to:"/signup"}," ","Signup")))))}}]),t}(n.Component)),y=(a(195),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null},a.service=new E,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(i.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",null,r.a.createElement("div",{onClick:this.handleLogout},"Close Session")),r.a.createElement("div",null,r.a.createElement(b.a,{className:"links",to:"/editprofile/:_id"},this.state.loggedInUser.username,"'s Profile")),r.a.createElement("div",null,r.a.createElement(b.a,{className:"links",to:"/albums-list"},"My Albums")),r.a.createElement("div",null,r.a.createElement(b.a,{className:"links",to:"/allphotos"},"Home"))):r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",null,r.a.createElement(b.a,{className:"links",to:"/login"},"Login")),r.a.createElement("div",null,r.a.createElement(b.a,{className:"links",to:"/signup"},"Signup")))}}]),t}(n.Component)),N=(a(196),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null},a.service=new E,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(i.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",null,r.a.createElement("div",{onClick:this.handleLogout},"Close Session")),r.a.createElement("div",null,r.a.createElement(b.a,{className:"links",to:"/editprofile/:_id"},this.state.loggedInUser.username,"'s Profile")),r.a.createElement("div",null,r.a.createElement(b.a,{className:"links",to:"/allorders"},"Home"))):r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",null,r.a.createElement(b.a,{style:{textDecoration:"none",color:"black",margin:0},to:"/signup"},"Signup")),r.a.createElement("div",null,r.a.createElement(b.a,{style:{textDecoration:"none",color:"black",margin:0},to:"/login"},"Login")))}}]),t}(n.Component)),k=(a(197),a(198),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",checkToPrint:!1},a.filter=function(e){var t=Object(i.a)({},a.state);t.search=e.target.value,a.setState(t),a.props.filterAndCheck(t.search,t.checkToPrint)},a.clickHandler=function(){var e=Object(i.a)({},a.state);e.checkToPrint=!e.checkToPrint,a.setState(e),a.props.filterAndCheck(e.search,e.checkToPrint)},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"searchbar-and-checkbox"},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{placeholder:"Search Tags",type:"text",onChange:function(t){return e.filter(t)}})),r.a.createElement("div",{className:"checkbox"},r.a.createElement("input",{id:"check",type:"checkbox",onClick:this.clickHandler}),r.a.createElement("label",{for:"check"},"Photos to Print")))}}]),t}(n.Component)),C=(a(199),function e(){var t=this;Object(o.a)(this,e),this.addAlbum=function(e,a){return t.service.post("/album",{title:e,description:a},{withCredentials:!0}).then(function(e){return e.data})},this.getAlbums=function(e){return t.service.post("/album/List",{user:e}).then(function(e){return e.data})},this.modifyALbum=function(e,a,n,r){return t.service.put("/album/".concat(t.props.album._id),{title:e,description:a,photos:n,owner:r},{withCredentials:!0}).then(function(e){return e.data})},this.getPhotosAlbumId=function(e){return t.service.post("/album/listphotos",{albumid:e}).then(function(e){return e.data})},this.getAllPhotosUser=function(e){return t.service.post("/album/allphotosUser",{ownerid:e}).then(function(e){return e.data})},this.getPhotoId=function(e){return t.service.post("/album/singlephoto",{photoid:e}).then(function(e){return e.data})},this.udatePhoto=function(e,a,n,r){return t.service.put("/album/singlephoto-update",{newpublic:e,newtoPrint:a,newcontent:n,photoid:r}).then(function(e){return e.data})},this.service=v.a.create({baseURL:"http://localhost:5000/"})}),P=function e(){var t=this;Object(o.a)(this,e),this.newOrder=function(e,a,n,r){return t.service.post("/order/neworder",{code:e,user:a,printerId:n,photosToPrint:r}).then(function(e){return e.data})},this.service=v.a.create({baseURL:"http://localhost:5000/"})},w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).filterPhoto=function(e,t){""!==e&&void 0!==e&&null!=e||!1!==t||a.getPhotosUser();var n=Object(i.a)({},a.state);n.photos=n.photos.filter(function(a){return!1===t?0===a.content.indexOf(e):!0===a.toPrint&&0===a.content.indexOf(e)}),a.setState(n),a.catchPhotosPrint=function(){var e=Object(i.a)({},a.state,{redirect:!0});a.props.photoPrint(a.state.photos),a.setState(e)}},a.state={loggedinUser:a.props.userInSession,photos:[],photosToPrint:[],redirect:!1},a.AlbumService=new C,a.service=new E,a.OrderService=new P,a.getPhotosUser(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getPhotosUser",value:function(){var e=this;this.AlbumService.getAllPhotosUser(this.props.userInSession._id).then(function(t){t.map(function(e){null!=e.content&&void 0!=e.content||(e.content="")});var a=t;e.setState(Object(i.a)({},e.state,{photos:a}))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container-album"},this.state.photos.map(function(e,t){return r.a.createElement("div",{className:"container-image"},r.a.createElement(b.a,{to:"/photoDetail/".concat(e._id),key:e._id},r.a.createElement("img",{src:e.imageUrl,alt:"alt",className:"image"})))})),r.a.createElement("div",{className:"bottom-album"},r.a.createElement("div",{className:"two-buttons"},r.a.createElement("div",{className:"myalbumslink"},r.a.createElement("button",{className:"button-send"},r.a.createElement(b.a,{className:"links",to:"albums-list"},"My Albums"))),r.a.createElement("div",{className:"myalbumslink"},r.a.createElement("button",{className:"button-send",onClick:this.catchPhotosPrint},"Send to Print"),this.state.redirect?r.a.createElement(O.a,{to:"/printers"}):"")),r.a.createElement(k,{filterAndCheck:this.filterPhoto})))}}]),t}(n.Component),U=(a(200),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handlerSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.email;a.service.editprofile(t,n).then(function(e){a.setState({username:"",email:""})}).catch(function(e){a.setState({username:t,email:n,error:!0})})},a.handlerChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(i.a)({},a.state,Object(g.a)({},n,r)))},a.state={loggedInUser:a.props.userInSession,username:"",email:"",NIF:"",telephone:"",street:"",numStreet:"",floor:"",door:"",postalCode:"",city:"",country:""},a.service=new E,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log("estoy en render edit profile",this.state.loggedInUser_id),r.a.createElement("div",{className:"container-signup"},r.a.createElement("div",{className:"allform"},r.a.createElement("h2",null,"Edit Profile"),r.a.createElement("form",{className:"signup",onSubmit:this.handlerSubmit},r.a.createElement("label",null,"Username"),r.a.createElement("input",{id:"username",type:"text",name:"username",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"Email"),r.a.createElement("input",{id:"email",type:"text",name:"email",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"NIF/DNI"),r.a.createElement("input",{id:"NIF",type:"text",name:"NIF",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"Telephone"),r.a.createElement("input",{id:"telephone",type:"text",name:"telephone",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"Street"),r.a.createElement("input",{id:"street",type:"text",name:"street",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"Street number"),r.a.createElement("input",{id:"numStreet",type:"text",name:"numStreet",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"Floor"),r.a.createElement("input",{id:"floor",type:"text",name:"floor",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"Door"),r.a.createElement("input",{id:"door",type:"text",name:"door",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"Postal Code"),r.a.createElement("input",{id:"postalCode",type:"text",name:"postalCode",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"City"),r.a.createElement("input",{id:"city",type:"text",name:"city",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("label",null,"Country"),r.a.createElement("input",{id:"country",type:"text",name:"country",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("input",{type:"submit",value:"Update User"}))))}}]),t}(n.Component)),I=(a(201),a(411)),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getUserAlbums=function(){a.AlbumService.getAlbums(a.state.loggedinUser._id).then(function(e){a.setState(Object(i.a)({},a.state,{albums:e}))}).catch(function(e){return console.log(e)})},a.filterAlbumUser=function(){var e=Object(i.a)({},a.state);e.albums=a.state.albums.filter(function(e){return e.owner===a.state.loggedInUser._id}),a.setState=e},a.state={loggedinUser:a.props.userInSession,albums:[]},a.AlbumService=new C,a.service=new E,a.getUserAlbums(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"albums-list"},this.state.albums.map(function(e){return r.a.createElement("div",{className:"each-album"},r.a.createElement(I.a,{style:{textDecoration:"none",color:"black",margin:0},className:"item-2",to:"/albums-list/".concat(e._id),key:e._id},r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,"Title: ",e.title)),r.a.createElement("div",{className:"description"},r.a.createElement("h3",null,"Tags: ",e.description)),r.a.createElement("div",null,r.a.createElement("p",null,"Created at: ",e.created_at))))}),r.a.createElement(b.a,{to:"add-album"},"Add Album"))}}]),t}(n.Component),A=(a(202),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handlerChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(i.a)({},a.state,Object(g.a)({},t,n)))},a.handlerSubmit=function(e){e.preventDefault();var t=a.state.title,n=a.state.description;a.AlbumService.addAlbum(t,n).then(function(e){a.setState(Object(i.a)({},a.state,{title:"",description:""}))})},a.state={title:"",description:"",photos:[],owner:""},a.AlbumService=new C,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-addAlbum"},r.a.createElement("form",{className:"form-addAlbum",onSubmit:this.handlerSubmit},r.a.createElement("input",{type:"text",placeholder:"Album's Title",name:"title",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("input",{type:"text",placeholder:"Description",name:"description",onChange:function(t){return e.handlerChange(t)}}),r.a.createElement("input",{type:"submit",value:"Add Album"}),this.state.redirect?r.a.createElement(O.a,{to:"/albums-list"}):""))}}]),t}(n.Component)),T=(a(203),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-orders"},r.a.createElement("h2",null,"Pedidos en curso"),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"N\xfamero 2019-5"),r.a.createElement("li",null,"N\xfamero 2019-7"),r.a.createElement("li",null,"N\xfamero 2019-12"))),r.a.createElement("h2",null,"Pedidos terminados"),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"N\xfamero 2019-1"),r.a.createElement("li",null,"N\xfamero 2019-2"),r.a.createElement("li",null,"N\xfamero 2019-4"))),r.a.createElement(b.a,{to:"detail-order"},"Order Info"))}}]),t}(n.Component)),D=a(70),L=a.n(D),_=a(159),M=(a(206),a(162)),q=(a(207),v.a.create({baseURL:"/api",withCredentials:!0})),R=function(e){if(e.response&&e.response.data)throw e.response.data.message;throw e},F=function(e,t,a){var n=new FormData;return n.append("photo",e),q.post("/album/photo/"+t+"/"+a,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data}).catch(R)},W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={loggedinUser:a.props.userInSession,file:null,photos:[],redirect:!1},a.service=new E,a.fetchUser(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"fetchUser",value:function(){var e=this;this.service.loggedin().then(function(t){e.setState(Object(i.a)({},e.state,{loggedInUser:t}))}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"handleChange",value:function(e){this.setState({file:e.target.files[0]})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),F(this.state.file,this.props.albumid,this.state.loggedInUser._id).then(function(e){var a=Object(M.a)(t.state.photos);a.push(e),t.setState(Object(i.a)({},t.state,{photos:a,redirect:!0}))})}},{key:"render",value:function(){var e=this;return null===this.state.loggedInUser?r.a.createElement("h1",null,"LOADING DATA"):this.state.redirect?r.a.createElement(O.a,{to:"/albums-list/"}):r.a.createElement("div",{className:"Home"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{className:"inputfile",type:"file",onChange:function(t){return e.handleChange(t)}})," ",r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"New Photo")),this.state.photos.map(function(e){return r.a.createElement("img",{key:e.url,src:e.url,alt:""})}))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={loggedinUser:a.props.userInSession,title:"",description:"",photos:[],data:"",owner:"",public:"false",toPrint:"false"},a.AlbumService=new C,a.getPhotos(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getAlbumId",value:function(){return this.props.match.params.id}},{key:"getPhotos",value:function(){var e=this;this.AlbumService.getPhotosAlbumId(this.props.match.params.id).then(function(t){var a=t;e.setState(Object(i.a)({},e.state,{photos:a}))})}},{key:"componentDidMount",value:function(){var e=Object(_.a)(L.a.mark(function e(){var t;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("http://localhost:5000/album/".concat(this.props.match.params.id));case 2:t=(t=e.sent).data,this.setState({data:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container-album-detail"},r.a.createElement("div",null,r.a.createElement("h1",null,this.state.data.title),r.a.createElement("p",null,this.state.data.description)),r.a.createElement("div",{className:"all-photos-user"},this.state.photos.map(function(e,t){return r.a.createElement("div",{className:"image-album"},r.a.createElement(I.a,{style:{textDecoration:"none",color:"black",margin:0},className:"photo-detail",to:"/photoDetail/".concat(e._id),key:e._id},r.a.createElement("div",{className:"imageAndText"},r.a.createElement("img",{src:e.imageUrl,alt:"alt"}))))})),r.a.createElement("div",{className:"two-buttons"},r.a.createElement(b.a,{className:"pruebaLink",to:"/albums-list"},"Yours Albums"),r.a.createElement(W,{albumid:this.props.match.params.id,userInSession:this.state.loggedInUser})))}}]),t}(n.Component),G=(a(208),function e(){var t=this;Object(o.a)(this,e),this.getUsersAndPrinters=function(){return t.service.get("/printer").then(function(e){return e.data})},this.service=v.a.create({baseURL:"http://localhost:5000/"})}),B=a(46),J=(a(404),Object(B.withScriptjs)(Object(B.withGoogleMap)(function(e){return r.a.createElement(B.GoogleMap,{defaultZoom:8,defaultCenter:{lat:40.392226,lng:-3.6998982}},r.a.createElement(B.Marker,{position:{lat:40.392226,lng:-3.6998982}}))}))),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isMarkerShown:!1,loggedInUser:null},a.delayedShowMarker=function(){setTimeout(function(){a.setState({isMarkerShown:!0})},3e3)},a.handleMarkerClick=function(){a.setState({isMarkerShown:!1}),a.delayedShowMarker()},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(i.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"componentDidMount",value:function(){this.delayedShowMarker()}},{key:"render",value:function(){return r.a.createElement(J,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBzW2O8kun6MFHbsvAL0nc7lOdmLw924LQ&v=3.exp&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})}}]),t}(r.a.PureComponent),z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getOnlyPrinters=function(){a.PrinterService.getUsersAndPrinters().then(function(e){var t=e.filter(function(e){return"printer"===e.role});a.setState(Object(i.a)({},a.state,{printers:t}))}).catch(function(e){return console.log(e)})},a.state={printers:[],photosToPrint:a.props.photosfromfilter},a.PrinterService=new G,a.service=new E,a.getOnlyPrinters(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(i.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"fetchUser",value:function(){var e=this;this.service.loggedin().then(function(t){e.setState(Object(i.a)({},e.state,{loggedInUser:t}))}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){return console.log("en printers this.state.photosToPrint,",this.state.photosToPrint),console.log("en printers this.state.loggedinuser,",this.state.loggedInUser),this.state.printers?r.a.createElement("div",{className:"albums-list"},r.a.createElement("h3",null,"Choose your Printer"),this.state.printers.map(function(e){return r.a.createElement("div",{className:"each-album"},r.a.createElement(I.a,{style:{textDecoration:"none",color:"black",margin:0},className:"item-2",to:"/oneprinter/".concat(e._id),key:e._id},r.a.createElement("div",{className:"eachAlbum"},r.a.createElement("div",{className:"title"},e.username),r.a.createElement("div",{className:"description"},e.email),r.a.createElement("div",null))))}),r.a.createElement(Y,null)):r.a.createElement("p",null,"loading")}}]),t}(n.Component),Q=(a(407),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleOptionChange=function(e){a.setState(Object(i.a)({},a.state,{content:e.target.value}))},a.handleOptionChangePublic=function(e){a.setState(Object(i.a)({},a.state,{public:!a.state.public}))},a.handleOptionChangeToPrint=function(e){a.setState(Object(i.a)({},a.state,{toPrint:!a.state.toPrint}))},a.handlerSubmit=function(e){e.preventDefault(),a.AlbumService.udatePhoto(a.state.public,a.state.toPrint,a.state.content,a.state.photo._id).then(function(e){console.log(e)})},a.state={loggedinUser:null,photo:{},redirect:!1,public:"",toPrint:"",content:""},a.AlbumService=new C,a.getThisPhoto(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getThisPhoto",value:function(){var e=this;this.AlbumService.getPhotoId(this.props.match.params.id).then(function(t){e.setState(Object(i.a)({},e.state,{photo:t,public:"",toPrint:"",content:"",photoSave:""}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-ImgAndText"},r.a.createElement("div",{className:"single-image"},r.a.createElement("img",{src:this.state.photo.imageUrl,alt:"retrato"})),r.a.createElement("form",{onSubmit:this.handlerSubmit},r.a.createElement("div",{className:"checkedcontainer"},r.a.createElement("div",{className:"blockcheckedcontainer"},r.a.createElement("label",{class:"container"},"Public",r.a.createElement("input",{type:"checkbox",name:"public",defaultChecked:this.state.photo.public,onChange:function(t){return e.handleOptionChangePublic(t)}}),r.a.createElement("span",{class:"checkmark"}))),r.a.createElement("div",{className:"blockcheckedcontainer"},r.a.createElement("label",{class:"container"},"To Print",r.a.createElement("input",{type:"checkbox",defaultChecked:this.state.photo.toPrint,name:"toPrint",onChange:function(t){return e.handleOptionChangeToPrint(t)}}),r.a.createElement("span",{class:"checkmark"})))),r.a.createElement("div",{className:"button-textarea"},r.a.createElement("textarea",{type:"text",name:"content",placeholder:this.state.photo.content,onChange:function(t){return e.handleOptionChange(t)}}),r.a.createElement("button",{type:"submit"},"Save"))))}}]),t}(n.Component)),Z=(a(408),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).newOrder=function(){var e=(new Date).getFullYear().toString()+"1",t=Object(i.a)({},a.state,{code:e});a.setState(t),a.OrderService.newOrder(a.state.code,a.props.user.username,a.props.match.params.id,a.props.photosToPrint).then(function(e){a.setState(Object(i.a)({},a.state,{code:"",userId:"",printerId:"",photosToPrint:[]}))})},a.state={photosToPrint:a.props.photosToPrint,userId:a.props.user,printerId:a.props.match.params.id,code:(new Date).getFullYear().toString()+"1"},a.OrderService=new P,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("usuario",this.props.user.username),console.log("code",this.state.code),console.log("printerId",this.props.match.params.id),console.log("photosToPrint",this.props.photosToPrint),r.a.createElement("div",null,r.a.createElement("div",{className:"each-album"},r.a.createElement("div",{className:"eachAlbum"},r.a.createElement("h2",null," Solicitud de Pedido "),r.a.createElement("div",{className:"description"},"Order Number: ",this.state.code),r.a.createElement("div",{className:"title"},"User: ",this.props.user.username),r.a.createElement("div",{className:"all-photos-user"},this.state.photosToPrint.map(function(e,t){return r.a.createElement("div",{className:"image-album"},r.a.createElement("div",{className:"imageAndText"},r.a.createElement("img",{src:e.imageUrl,alt:"alt"})))})),r.a.createElement("button",{onClick:this.newOrder},"Send Order"))))}}]),t}(n.Component)),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then(function(){a.setState({loggedInUser:null})})},a.generateOrder=function(e){var t=Object(i.a)({},a.state,{photosToPrint:e});a.setState(t)},a.state={loggedInUser:null,user:!1,photosToPrint:[]},a.service=new E,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return this.fetchUser(),this.state.loggedInUser?"user"===this.state.loggedInUser.role?r.a.createElement("div",{className:"grandfather"},r.a.createElement("header",{className:"container-navbar"},r.a.createElement(y,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement(d.a,null,r.a.createElement(p.a,{exact:!0,path:"/allphotos",render:function(){return r.a.createElement(w,{photoPrint:e.generateOrder,userInSession:e.state.loggedInUser})}}),r.a.createElement(p.a,{exact:!0,path:"/editprofile/",render:function(){return r.a.createElement(U,{userInSession:e.state.loggedInUser})}}),r.a.createElement(p.a,{exact:!0,path:"/albums-list",render:function(){return r.a.createElement(x,{userInSession:e.state.loggedInUser})}}),r.a.createElement(p.a,{exact:!0,path:"/albums-list/:id",component:H}),r.a.createElement(p.a,{exact:!0,path:"/photoDetail/:id",component:Q}),r.a.createElement(p.a,{exact:!0,path:"/add-album",component:A}),r.a.createElement(p.a,{exact:!0,path:"/printers",render:function(){return r.a.createElement(z,{photosfromfilter:e.state.photosToPrint})}}),r.a.createElement(p.a,{exact:!0,path:"/oneprinter/:id",render:function(t){return r.a.createElement(Z,Object.assign({},t,{photosToPrint:e.state.photosToPrint,user:e.state.loggedInUser}))}}))):"printer"===this.state.loggedInUser.role?r.a.createElement("div",{className:"grandfather"},r.a.createElement("header",null,r.a.createElement(N,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement(d.a,null,r.a.createElement(p.a,{exact:!0,path:"/allorders",component:T}))):void 0:r.a.createElement("div",{className:"grandfather"},r.a.createElement("header",{className:"container-navbar"},r.a.createElement(y,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(d.a,null,r.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(j,{getUser:e.getUser})}}),r.a.createElement(p.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(S,{getUser:e.getUser})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(412);a(409);s.a.render(r.a.createElement(K.a,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[164,1,2]]]);
//# sourceMappingURL=main.3ab156b6.chunk.js.map